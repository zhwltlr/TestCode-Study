## 리팩터링할 코드 식별하기

모든 제품 코드는 2차원으로 분류할 수 있다.

- 복잡도 또는 도메인 유의성
  - 코드 복잡도는 코드 내 의사 결정 지점 수로 정의한다. 숫자가 클수록 복잡도는 높아진다.
  - 도메인 유의성은 코드가 프로젝트의 문제 도메인에 대해 얼마나 의미 있는지 나타낸다.
  - 일반적으로 도메인 계층의 모든 코드는 최종 사용자의 목표와 직접적인 연관성이 있으므로 도메인 유의성이 높다.
  - **복잡한 코드와 도메인 유의성을 갖는 코드가 단위 테스트에서 가장 이롭다.**
- 협력자 수

  - 협력자가 많은 코드는 테스트 비용이 많이 든다.
  - 협력자를 예상되는 조건으로 두고 상태나 상호작용을 확인하게끔 코드를 작성해야 하기 때문에 협력자가 많을수록 테스트도 커진다.

- 코드 복잡도, 도메인 유의성, 협력자 수의 조합으로 4가지의 코드 유형이 볼 수 있다.
  그림 - 간단한 코드는 테스트 가치가 0에 가깝기에 테스트할 필요가 전혀 없다. - 가장 문제가 되는 코드 유형은 지나치게 복잡한 코드로 단위 테스트의 어려움을 겪는 것이 이 유형 - 지나치게 복잡한 코드를 알고리즘과 컨트롤러라는 두 부분으로 나누는 것이 일반적이다.

## 험블 객체 패턴을 사용해 지나치게 복잡한 코드 분할하기
